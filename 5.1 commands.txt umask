ğŸ“Œ Umask â€“ User File Creation Mask
ğŸ”¹ What is umask?

umask stands for User File Creation Mask.

It is a value that determines the default permission settings for newly created files and directories.

ğŸ”¹ Understanding Permission Numbers

Each digit in a permission or umask represents access rights using these values:

Number	Permission	Symbol
4	Read	r
2	Write	w
1	Execute	x
ğŸ”¹ Meaning of Permissions
âœ… Read (r)

For files â†’ Allows a user to view the contents of a file.

For directories â†’ Allows a user to:

List files inside

Access metadata (file names, permissions, etc.)

âœ… Write (w)

For files â†’ Allows a user to modify or delete a file.

For directories â†’ Allows a user to:

Create files

Delete files

Rename files

âœ… Execute (x)

For files â†’ Allows a user to run the file (if itâ€™s a program/script).

For directories â†’ Allows entering/accessing the directory.

ğŸ”¹ File Permission Structure

Example:

-rwxrwxrwx

Breakdown:

-   rwx   rwx   rwx
|    |     |     |
|    |     |     â””â”€â”€ Others
|    |     â””â”€â”€â”€â”€â”€â”€â”€â”€ Group
|    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ User (Owner)
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ File Type
File Type Symbols
Symbol	Meaning
d	Directory
-	Regular file
l	Symbolic link
ğŸ”¹ Three Digits Correspond To
Position	Represents
First digit	Owner (User)
Second digit	Group
Third digit	Others (Everyone else)
ğŸ”¹ Default Maximum Permissions (Base Permissions)

These are the starting permissions before applying umask.

Item	Maximum Permissions	Symbolic Form
Files	0666	rw-rw-rw-
Directories	0777	rwxrwxrwx
ğŸ”¹ Understanding umask

umask defines which permission bits should be masked (subtracted) from the default maximum permissions.

ğŸ”¹ Common umask Value

A common umask value for both normal users and root:

umask = 0022

Check current umask:

umask
0022

For both:

ec2-user â†’ 0022

root â†’ 0022

ğŸ”¹ Permission Calculation
Formula
Final Permission = Default Permission â€“ umask

(Each digit is subtracted individually)

ğŸ“ For Files
Base Permission:
0666
Umask:
0022
Calculation:
0666
-0022
------
0644
Final File Permission:
0644 â†’ rw-r--r--
Example
touch hello.txt
ls -lrth

Output:

-rw-r--r--  1 root root  0 May 29 09:52 hello.txt

Breakdown:

User	Group	Others
6 â†’ rw-	4 â†’ r--	4 â†’ r--
ğŸ“ For Directories
Base Permission:
0777
Umask:
0022
Calculation:
0777
-0022
------
0755
Final Directory Permission:
0755 â†’ rwxr-xr-x
Example
mkdir devops
ls -lrth

Output:

drwxr-xr-x  2 root root  6 May 29 09:51 devops

Breakdown:

User	Group	Others
7 â†’ rwx	5 â†’ r-x	5 â†’ r-x
ğŸ”¹ Same for Root and Normal Users
User Type	umask	File Permissions	Directory Permissions
Root	0022	0644 (rw-r--r--)	0755 (rwxr-xr-x)
Normal User	0022	0644 (rw-r--r--)	0755 (rwxr-xr-x)
ğŸ”¹ Temporary Umask â€“ Setting to 0222

You can temporarily change umask in the current terminal:

umask 0222

Check it:

umask
0222
ğŸ”¹ Permission Calculation with umask 0222
ğŸ“ For Directories
Default:
0777
Umask:
0222
Calculation:
0777
-0222
------
0555
Result:
0555 â†’ dr-xr-xr-x

Meaning:

Read & Execute only

No write permission

Example
mkdir jenkins
ls -lrth

Output:

dr-xr-xr-x  2 root root  6 May 29 09:57 jenkins
ğŸ“„ For Files
Default:
0666
Umask:
0222
Calculation:
0666
-0222
------
0444
Result:
0444 â†’ r--r--r--

Meaning:

Read-only for everyone

Example
touch jenkins.txt
ls -lrth

Output:

-r--r--r--  1 root root  0 May 29 09:57 jenkins.txt
ğŸ”¹ Important Note

This umask setting is temporary.

Applies only to the current terminal session

After closing the session, it resets to default

ğŸ“Œ Quick Summary
Umask	File Result	Directory Result
0022	0644	0755
0222	0444	0555
